import org.commonvoice.saverio_buildSrc.Libs

apply plugin: 'com.android.application'

apply plugin: 'kotlin-android'

apply plugin: 'kotlin-android-extensions'

android {
    compileSdkVersion 28

    defaultConfig {
        applicationId 'org.commonvoice.saverio'
        minSdkVersion 23
        targetSdkVersion 29
        versionCode = 119
        versionName '2.1'
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    buildFeatures {
        viewBinding true
    }
    flavorDimensions "source_store"
    productFlavors {
        "GPS" {
            dimension "source_store"
        }
        "FD-GH" {
            dimension "source_store"
        }
    }
    compileOptions {
        sourceCompatibility = 1.8
        targetCompatibility = 1.8
    }
    kotlinOptions {
        jvmTarget = "1.8"
    }

    bundle {
        language {
            // Specifies that the app bundle should not support
            // configuration APKs for language resources. These
            // resources are instead packaged with each base and
            // dynamic feature APK.
            enableSplit = false
        }
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation Libs.Kotlin.stdlib
    implementation Libs.AndroidX.appcompat
    implementation Libs.AndroidX.coreKtx
    implementation Libs.Google.material
    implementation Libs.AndroidX.constraintlayout
    implementation Libs.AndroidX.Navigation.fragment
    implementation Libs.AndroidX.Navigation.fragmentKtx
    implementation Libs.AndroidX.Navigation.ui
    implementation Libs.AndroidX.Navigation.uiKtx
    implementation Libs.AndroidX.Lifecycle.extensions
    implementation Libs.AndroidX.legacySupport
    testImplementation Libs.Test.junit4
    androidTestImplementation Libs.AndroidX.Test.junitExt
    androidTestImplementation Libs.AndroidX.Test.espressoCore

    //volley
    implementation Libs.Google.volley

    //Koin
    implementation Libs.Koin.viewModel
    //https://github.com/InsertKoinIO/koin

    //MVVM
    implementation Libs.AndroidX.Lifecycle.viewModel
    implementation Libs.AndroidX.Lifecycle.liveData
    implementation Libs.AndroidX.Lifecycle.viewModelSavedState
    implementation Libs.AndroidX.Lifecycle.commonJava8
    //https://developer.android.com/topic/libraries/architecture/viewmodel

    //WorkManager
    implementation Libs.AndroidX.Work.runtimeKtx
    //https://developer.android.com/topic/libraries/architecture/workmanager/basics

    implementation project(":lib")
}
